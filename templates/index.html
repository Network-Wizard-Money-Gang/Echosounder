<!DOCTYPE html>
<html lang='fr'>
  <head>
    <meta charset ="UTF-8">
  	<title>Echosounder</title>
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css')}}" />
    <script type="text/javascript" src="{{ url_for('static', filename='cytoscape.min.js')}}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='layout-base.js')}}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='cose-base.js')}}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='cytoscape-fcose.js')}}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='ipaddr.min.js')}}"></script>

    <script type="text/javascript" src="{{ url_for('static', filename='angular.min.js')}}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='angular-animate.min.js')}}"></script>
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='angular-csp.min.css')}}"></link>

    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='normalize.css')}}"></link>

    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='main.css')}}"></link>
    <!-- <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico')}}" type="image/x-icon"> -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png')}}"/>

  </head>
  <body id="backgroundquadrillage" ng-controller="ParentCtrl">
    <!-- barre de menu affichant juste le titre du logiciel -->
    <header>
      <center><div>
        <img src="{{ url_for('static', filename='white_icon.png')}}"/>
        Echosounder analyser</div></center>
    </header>

    <!-- panels de manipulation de gauche (bobo) -->
    <div class="echo_panel_left" ng-controller="leftPanelMenu">
      <!-- menu de scan basique -->
      <div class="echo_panel_openbutton echo_panel_openbutton_left hvr-sweep-to-right" ng-click="showMenu1 = !showMenu1; showMenu2 = false; showMenu3 = false">
      </div>
      <div class="d-flex flex-wrap echo_menu_left ng-hide" ng-hide="!showMenu1">
        <!-- cible à scanner -->
        <div class="container echo_menu_title">Scan réseau</div>
        <div class="container echo_scan_cible">
          <input class="echo_input_effect" type="text" name="cible_ip_cidr" placeholder="cidr" ng-model="cible" required>
          <label for="name" class="echo_input_effect_label">IP/CIDR</label>
        </div>
        <!-- pleins de noms de scan à la con ont été inventés pour tester le placement css -->
        <div class="container echo_scan_panel">
          <div class="echo_button_scan hvr-hollow" ng-click="clickFastPing()">Scan Ping</div>
          <div class="echo_button_scan hvr-hollow" ng-click="clickScanARP()">Scan ARP</div>
          <div class="echo_button_scan hvr-hollow" ng-click="clickTraceroute()">Scan traceroute</div>
          <div class="echo_button_scan">Scan SNMP</div>
          <div class="echo_button_scan">Scan TCP/UDP general</div>
          <div class="echo_button_scan">Scan DNS</div>
          <div class="echo_button_scan">Scan NTP</div>
          <div class="echo_button_scan">Deep Dive Scan</div>
        </div>
      </div>
      <!-- menu de scan machine -->
      <div class="echo_panel_openbutton echo_panel_openbutton_left hvr-sweep-to-right" ng-click="showMenu2 = !showMenu2; showMenu3 = false; showMenu1 = false">
      </div>
      <div class="d-flex flex-wrap echo_menu_left ng-hide" ng-show="showMenu2">
        <div class="container echo_menu_title">Scan machine</div>
        <!-- Ensemble des boutons de scan d'une machine spécifique -->
        <div class="container echo_scan_cible">
          <input class="echo_input_effect" type="text" name="cible_machine_cible" placeholder="ip" ng-model="machineCible" required>
          <label for="name" class="echo_input_effect_label">IP CIBLE</label>
        </div>
        <div class="container echo_scan_panel"> 
          <div class="echo_button_scan hvr-hollow" ng-click="clickScanProfiling()">Scan profiling</div>
          <div class="echo_button_scan hvr-hollow" ng-click="clickScanServices()">Scan services</div>
          <div class="echo_button_scan hvr-hollow" ng-click="clickScanReversePTR()">Scan Reverse PTR</div>
        </div>
      </div>
      <!-- menu de scan spécifique -->
      <div class="echo_panel_openbutton echo_panel_openbutton_left hvr-sweep-to-right" ng-click="showMenu3 = !showMenu3; showMenu2 = false; showMenu1 = false;">
      </div>
      <div class="echo_menu_left ng-hide" ng-show="showMenu3">
        <div class="container echo_menu_title">Scan spécifiques</div>
        <div>test5</div>
      </div>
    </div>

    <!-- panels de manipulation de droite (facho) -->
    <div class="echo_panel_right" ng-controller="rightPanelMenu">
      <!-- menu de visualisation data node -->
      <div class="echo_panel_openbutton echo_panel_openbutton_right hvr-sweep-to-left" ng-click="showMenu1 = !showMenu1; showMenu2 = false; showMenu3 = false">
      </div>
      <div class="d-flex flex-wrap echo_menu_right echo_node_data ng-hide" ng-show="showMenu1">
        <div class="container echo_menu_title">Visualisation données de machines</div>
        <pre>{{"{{nodedata | json}}"}}</pre>
      </div>

      <!-- menu de visualisation ? -->
      <div class="echo_panel_openbutton echo_panel_openbutton_right hvr-sweep-to-left" ng-click="showMenu2 = !showMenu2; showMenu1 = false; showMenu3 = false">
      </div>
      <div class="d-flex flex-wrap echo_menu_right ng-hide" ng-show="showMenu2">
        <div class="container echo_menu_title">Visualisation données de services</div>
        <pre>{{"{{servicedata | json}}"}}</pre>
      </div>

      <!-- menu de manipulation du graphe -->
      <div class="echo_panel_openbutton echo_panel_openbutton_right hvr-sweep-to-left" ng-click="showMenu3 = !showMenu3; showMenu2 = false; showMenu1 = false">
      </div>
      <div class="d-flex flex-wrap echo_menu_right ng-hide" ng-show="showMenu3">
        <div class="container echo_menu_title">Manipulations du graph</div>
        <input class="echo_to_hide" type="file" id="echo_json_upload" name="file"/>
        <div class="echo_button_scan hvr-hollow" ng-click="checkAPI()">check API</div>
        <div class="echo_button_scan hvr-hollow" ng-click="exportJSON()">export JSON</div>
        <div class="echo_button_scan hvr-hollow" ng-click="importJSON()">import JSON</div>
        <div class="echo_button_scan hvr-hollow" ng-click="actualiseGraph()">refresh Graph</div>
      </div>
    </div>

    <!-- panel de notification de bas de fenêtre -->
    <div class="echo_panel_notification" ng-controller="notificationPanelMenu">
      <div class="echo_toast_list">
        <div class="echo_toast" ng-repeat="toast in listToast">
          <div>{{"{{toast.titre}}"}}</div>
          <div>{{"{{toast.texte}}"}}</div>
        </div>
      </div>
    </div>

    <!-- fenêtre de vue du graphe -->
    <div id="placeNetwork" ng-controller="graphNetwork">
      <div id="mynetwork"></div>
    </div>
    
    <script type="text/javascript" src="{{ url_for('static', filename='main.js')}}"></script>
  </body>
</html>
